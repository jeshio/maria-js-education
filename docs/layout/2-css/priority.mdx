---
sidebar_position: 4
---

# 2.4 Приоритет стилей

В этом уроке мы разберём, как CSS определяет, какие стили применять к элементу, если к нему подходят несколько правил.

## Система приоритетов

Если к элементу применяются разные селекторы, то применится стиль с более высоким приоритетом. Каждый тип селектора имеет своё количество очков приоритета:

1. Теги и псевдоэлементы (p, ::before) - 1 очко
2. Классы, псевдоклассы и атрибуты (.menu, :hover, [type="text"]) - 10 очков
3. ID селекторы (#header) - 100 очков
4. Встроенные стили (атрибут style) - 1000 очков
5. Свойства с !important - 10000 очков

:::tip[Как считать очки]
Когда в селекторе используется несколько элементов, их очки складываются:
- `p` = 1 очко
- `.menu` = 10 очков
- `p.menu` = 11 очков (тег + класс)
- `#header p.menu` = 111 очков (ID + тег + класс)
:::

## Примеры приоритетов

```css
/* 1 очко: один тег */
p {
  color: blue;
}

/* 10 очков: один класс */
.text {
  color: red;
}

/* 11 очков: тег (1) + класс (10) */
p.text {
  color: orange;
}

/* 20 очков: два класса (10 + 10) */
.menu.active {
  color: purple;
}

/* 111 очков: ID (100) + тег (1) + класс (10) */
#header p.text {
  color: green;
}
```

```html
<p class="text menu active" id="header">Какой цвет?</p>
<!-- Текст будет зелёным, так как селектор #header p.text имеет самый высокий приоритет (111 очков) -->
```

:::warning[Внимание]
Чем больше селекторов вы комбинируете, тем выше приоритет стиля. Но это также делает ваши стили более жёсткими и их сложнее переопределить. Старайтесь использовать простые селекторы.
:::

## Ключевое слово !important

`!important` - это специальное ключевое слово, которое можно добавить к любому свойству CSS, чтобы сделать его приоритетнее всех остальных стилей:

```css
/* Стиль с !important перезапишет все остальные стили */
p {
  color: red !important; /* этот цвет будет применён всегда */
}

/* Эти стили будут игнорироваться */
p {
  color: blue;
}

.text {
  color: green;
}

#unique {
  color: purple;
}
```

```html
<p style="color: orange;" class="text" id="unique">
    Какой цвет?
</p>
<!-- Текст будет красным из-за !important, несмотря на более высокий приоритет других селекторов -->
```

:::danger[Почему не стоит использовать !important]
1. Нарушает естественный порядок приоритетов CSS
2. Усложняет отладку и поддержку кода
3. Если несколько правил используют !important, возникает путаница
4. Часто указывает на проблемы в организации CSS

Вместо !important лучше:
- Использовать более конкретные селекторы
- Правильно организовывать CSS-код
- Разбивать стили на логические компоненты
:::

## Практическое задание

Создай страницу с разными стилями текста:

1. Создай файл `priority.html`:
```html
<!DOCTYPE html>
<html>
<head>
  <title>Приоритеты стилей</title>
  <link rel="stylesheet" href="priority.css">
</head>
<body>
  <div id="container">
    <h1 class="title main-title">Заголовок</h1>
    
    <div class="text-block">
      <p class="text">Обычный параграф</p>
      <p class="text important">Важный параграф</p>
      <p class="text" style="color: orange;">Параграф со встроенным стилем</p>
    </div>

    <div id="special" class="text-block">
      <p class="text">Параграф в особом блоке</p>
    </div>
  </div>
</body>
</html>
```

2. Создай файл `priority.css` и добавь стили с разными приоритетами:
- Используй разные типы селекторов
- Создай конфликтующие стили
- Попробуй !important (но только для демонстрации)

<details>
  <summary>Подсказка</summary>

  ```css
  /* Базовые стили */
  p {
    color: black;
    font-size: 16px;
  }

  /* Стили для блоков */
  .text-block {
    padding: 20px;
    background-color: #f8f9fa;
  }

  /* Стили для текста */
  .text {
    color: blue;
  }

  /* Комбинация селекторов */
  .text-block .text {
    color: green;
  }

  /* Использование ID */
  #special .text {
    color: purple;
  }

  /* Важный текст */
  .text.important {
    color: red;
    font-weight: bold;
  }

  /* Демонстрация !important */
  .text {
    font-style: normal !important;
  }
  ```
</details>

---

## Итоги

В этом уроке ты научилась:
- Понимать систему приоритетов в CSS
- Рассчитывать приоритет селекторов
- Использовать разные типы селекторов для управления приоритетами
- Понимать особенности и проблемы использования !important
- Создавать более поддерживаемый CSS-код

В следующем уроке мы изучим работу с цветами и фоном в CSS! 