---
sidebar_position: 2
---

import LiveCodeEditor from '@site/src/components/LiveCodeEditor';
import CodeEditorWithTests from '@site/src/components/CodeEditorWithTests';

# 2. Функции, объекты, константы и переменные

## Введение

Поздравляю с прохождением базового JavaScript! Теперь ты знаешь его основы: переменные, константы, функции, объекты. Чтобы закрепить знания, я подготовил несколько задач, которые помогут лучше понять, как всё это связано.

---

## Задача 1: Использование констант и переменных

:::tip

Важно понимать, когда использовать константы, а когда переменные:
- Константы (`const`) подходят для значений, которые не должны меняться.
- Переменные (`let`) используются для тех случаев, когда значение может измениться.
:::

---

### Условие

Создай переменную `userName` и присвой ей значение `"Анна"`. Затем создай константу `welcomeMessage`, которая содержит строку `"Добро пожаловать, "`.
Выведи `welcomeMessage` и `userName`.

Затем измени значение переменной `userName` на `"Олег"` и снова выведи приветственное сообщение с константой `welcomeMessage`.

Ожидаемый вывод:
```
Добро пожаловать, Анна
Добро пожаловать, Олег
```

<LiveCodeEditor
    solution={`let userName = 'Анна';
const welcomeMessage = 'Добро пожаловать, ';

console.log(welcomeMessage + userName);

userName = 'Олег';
console.log(welcomeMessage + userName);
`}
/>

---

## Задача 2: Работа с объектами

:::tip

Объекты позволяют хранить данные в виде "ключ-значение". Обращение к значениям объекта можно делать через:
- Точку (`.`): `object.key`
- Квадратные скобки (`[]`): `object['key']`

Если ключ объекта содержит пробелы или специальные символы, используй только квадратные скобки.
:::

---

### Условие

Создай объект `user` со следующими свойствами:
- `name` со значением `"Екатерина"`.
- `age` со значением `25`.
- `isAdmin` со значением `false`.

Добавь в объект новое свойство `country` со значением `"Россия"` и измени значение свойства `age` на `26`.

Проверь, что объект содержит правильные данные.

<CodeEditorWithTests
    checks={[
        { type: 'variable', name: 'user.name', expectedValue: 'Екатерина' },
        { type: 'variable', name: 'user.age', expectedValue: 26 },
        { type: 'variable', name: 'user.isAdmin', expectedValue: false },
        { type: 'variable', name: 'user.country', expectedValue: 'Россия' },
    ]}
    solution={`const user = {
    name: 'Екатерина',
    age: 25,
    isAdmin: false,
};

user.country = 'Россия';
user.age = 26;
`}
/>

---

## Задача 3: Функции с несколькими параметрами

:::tip
Функции могут принимать несколько параметров. Если порядок параметров перепутать, результат может оказаться неожиданным. Например:

```javascript
function greet(firstName, lastName) {
  return 'Привет, ' + firstName + ' ' + lastName;
}

console.log(greet('Иван', 'Иванов')); // Правильно
console.log(greet('Иванов', 'Иван')); // Неправильно
```

Следи за порядком!
:::

---

### Условие

Создай функцию `calculateTotalPrice`, которая принимает два параметра:
1. `price` — цена товара.
2. `quantity` — количество товаров.

Функция должна возвращать строку вида: `"Общая стоимость: <сумма> за <количество> шт"`, где `<сумма>` — это произведение цены на количество.

Протестируй функцию с параметрами:
- `price = 100`, `quantity = 3` (должно вернуть `"Общая стоимость: 300 за 3 шт"`).
- `price = 250`, `quantity = 2` (должно вернуть `"Общая стоимость: 500 за 2 шт"`).

<LiveCodeEditor
    solution={`function calculateTotalPrice(price, quantity) {
  return 'Общая стоимость: ' + (price * quantity) + ' за ' + quantity + ' шт';
}

console.log(calculateTotalPrice(100, 3));
console.log(calculateTotalPrice(250, 2));
`}
/>

---

## Задача 4: Объекты и функции

### Подсказка

Функции могут работать с объектами, принимая их в качестве параметров. Например:

```javascript
const user = { name: 'Иван', age: 30 };

function getUserInfo(user) {
  return user.name + ' — ' + user.age + ' лет';
}

console.log(getUserInfo(user)); // Иван — 30 лет
```

---

### Условие

Создай объект `product` с полями:
- `name` со значением `"Ноутбук"`.
- `price` со значением `75000`.

Создай функцию `getProductInfo`, которая принимает объект и возвращает строку:
`"<название товара>: <цена> рублей"`

Протестируй функцию с объектом `product`.

<CodeEditorWithTests
    checks={[
        { type: 'function', name: 'getProductInfo', tests: [{ input: [{ name: 'Ноутбук', price: 75000 }], output: 'Ноутбук: 75000 рублей' }] }
    ]}
    solution={`const product = {
    name: 'Ноутбук',
    price: 75000,
};

function getProductInfo(product) {
    return product.name + ': ' + product.price + ' рублей';
}

getProductInfo(product);
`}
/>

## Задача 5: Случайные числа

Функция `Math.random()` возвращает случайное число от `0` до `1`, но часто её используют для создания случайных чисел в других диапазонах. Например, `Math.random() * 25` возвращает случайное число от `0` до `25`. Давай разберём, почему это работает, и научимся управлять диапазоном случайных чисел.

---

## Теория

### Как работает `Math.random()`
`Math.random()` генерирует случайное число:
- **Минимальное значение:** `0` (включительно).
- **Максимальное значение:** `1` (не включительно, т.е. никогда не возвращает ровно `1`).

Пример:
```javascript
console.log(Math.random()); // Например, 0.123456789
console.log(Math.random()); // Например, 0.987654321
```

### Умножение на число
Когда мы умножаем результат `Math.random()` на число, например `25`, диапазон меняется:
- Минимальное значение становится `0 * 25 = 0`.
- Максимальное значение становится `1 * 25 = 25` (но 25 никогда не включается, из-за того, что `Math.random()` не возвращает ровно `1`).

Пример:
```javascript
console.log(Math.random() * 25); // Например, 12.3456
console.log(Math.random() * 25); // Например, 0.9876
```

### Использование диапазона
Чтобы изменить минимальное значение диапазона, например, от `10` до `35`:
1. Генерируем случайное число от `0` до `25`: `Math.random() * 25`.
2. Добавляем `10`: `Math.random() * 25 + 10`.

---

## Задача

### Условие

Создай функцию `getRandomInRange`, которая принимает три параметра:
1. `min` — минимальное значение диапазона.
2. `max` — максимальное значение диапазона.
3. `precision` — количество знаков после запятой.

Функция должна:
1. Генерировать случайное число в диапазоне от `min` до `max`.
2. Округлять результат до указанного количества знаков после запятой.
3. Возвращать результат в виде строки: `"Случайное число: <число>"`.

Пример вызова функции:
```javascript
console.log(getRandomInRange(10, 35, 2)); // Например: "Случайное число: 27.34"
```

### Подсказка

1. Чтобы округлить число до нужного количества знаков после запятой, используй `toFixed()`:
```javascript
const num = 12.34567;
console.log(num.toFixed(2)); // -> "12.35"
   ```

<LiveCodeEditor
    code={`// Создай функцию getRandomInRange

    // Проверь результат функции с разными диапазонами и точностью
    console.log(getRandomInRange(10, 35, 2));
    console.log(getRandomInRange(5, 15, 1));
    console.log(getRandomInRange(0, 1, 5));
`}
    solution={`function getRandomInRange(min, max, precision) {
    // Генерируем случайное число от min до max
    const random = Math.random() * (max - min) + min;

    // Округляем число до нужной точности
    const rounded = random.toFixed(precision);

    // Возвращаем строку с результатом
    return 'Случайное число: ' + rounded;
}

// Примеры вызова
console.log(getRandomInRange(10, 35, 2)); // Например: "Случайное число: 27.34"
console.log(getRandomInRange(5, 15, 1)); // Например: "Случайное число: 12.3"
console.log(getRandomInRange(0, 1, 5)); // Например: "Случайное число: 0.54321"
`}
/>
