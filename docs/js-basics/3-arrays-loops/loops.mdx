---
sidebar_position: 2
---

import LiveCodeEditor from '@site/src/components/LiveCodeEditor';
import CodeEditorWithTests from '@site/src/components/CodeEditorWithTests';

# 3.2 Циклы

## Знания

:::tip[Что такое циклы?]
Циклы — это способ выполнить один и тот же кусок кода несколько раз. Например, если у тебя есть массив с элементами, и ты хочешь вывести каждый элемент, вместо того чтобы писать `console.log` для каждого, ты можешь использовать цикл.
:::

### **Зачем нужны циклы?**

Представь, что тебе нужно вывести в консоль все элементы массива `fruits`. Если бы не было циклов, тебе пришлось бы писать такой код:

```javascript
const fruits = ['яблоко', 'банан', 'вишня'];

console.log(fruits[0]);
console.log(fruits[1]);
console.log(fruits[2]);
```

А теперь представь, что у тебя массив из 100 элементов! Писать такие строки для каждого элемента будет слишком долго и неудобно. Здесь и помогают циклы — они позволяют сократить код и сделать его более универсальным.

### **Пример с циклом `for`**

Цикл `for` позволяет повторять код определённое количество раз. В нём есть три части:
1. Инициализация: с чего начинается цикл.
2. Условие: пока это условие выполняется, цикл продолжается.
3. Изменение: что происходит после каждой итерации (например, увеличение счётчика).

:::tip[Как работает цикл?]
Мы рассмотрим небольшой пример.

```javascript
for (let i = 0; i < 5; i++) {
  console.log('Итерация номер', i);
}
```

Процесс происходит следующим образом:

1. Цикл запускается с того, что создаётся переменная `i` со значением 0
2. Теперь проверяется условие `i < 5` и так как `0` меньше, чем `5` то условие вернёт `true`
3. Так как условие выполнилось с результатом `true`, значит будет выполняться код внутри цикла
4. Выполняется код внутри цикла. Тут это всего-лишь один вызов функции `console.log('Итерация номер', i)`. Переменная `i` тут равна 0
5. После выполнения кода внутри цикла выполнился операция `i++` - это тоже самое, что написать `i = i + 1`. То есть, к `i` прибавляется 1
6. Так мы закончили первую __итерацию цикла__ - то есть, один проход.
7. Возвращаемся к шагу 2, только `i` теперь на 1 больше. Повторяем всё тоже самое и так по кругу, пока условие `i < 5` не станет `false`. В этом случае цикл прекращается.

Итого, в этом маленьком примере команда `console.log('Итерация номер', i)` выполнится 5 раз (или правильнее - 5 _итераций_) и выведет в консоль от 0 до 4.
:::

#### Теперь можно работать с большими массивами!

С помощью цикла `for` тот же результат, который мы добивались в начале урока, можно получить всего в несколько строк (даже для массива из 100 элементов):

```javascript
const fruits = ['яблоко', 'банан', 'вишня'];

for (let i = 0; i < fruits.length; i++) {
  console.log(fruits[i]);
}
```

Вывод в консоль:
```
яблоко
банан
вишня
```

__Пояснение__

Как ты помнишь, у массива каждый элемент имеет индекс, начиная с `0`. Так вот, в этом цикле мы и получаем эти элементы подставляя не цифры, как ранее (например `fruits[2]`), а переменную `i`, в которой содержится число.

Посмотри на условие цикла - цикл заканчивается до того как достигнет длины массива `fruits`, то есть, последнее значение `i`, которого она достигнет, станет `2`. А начинается `i` с 0 в первой итерации.

---

## Пример: подсчёт и фильтрация

Циклы можно использовать для выполнения более сложных задач, например, подсчёта общей суммы и отбора элементов, соответствующих условию.

```javascript
const numbers = [1, 2, 3, 4, 5, 6];
let sum = 0;
let evenNumbers = []; // чётные числа

// Подсчитываем сумму и отбираем чётные числа
for (let i = 0; i < numbers.length; i++) {
  sum = sum + numbers[i];
  if (numbers[i] % 2 === 0) {
    evenNumbers.push(numbers[i]);
  }
}

console.log('Сумма всех чисел:', sum); // -> 21
console.log('Чётные числа:', evenNumbers); // -> [2, 4, 6]
```

__Как это работает?__
1. **Сумма:** На каждой итерации цикла текущее число из массива добавляется в `sum`.
2. **Фильтрация:** Проверяем, делится ли текущее число на 2 без остатка (`% 2 === 0`). Если да, добавляем его в массив `evenNumbers`.

---

## Редактор кода

У нас есть массив чисел и несколько строк кода. Расставь строки в правильном порядке так, чтобы:

1. Сначала вычислялась сумма всех чисел.
2. Затем из массива отбирались только числа больше 10.
3. Результат сохранялся в переменных `sum` и `filteredNumbers`.

<LiveCodeEditor
    code={`const numbers = [5, 15, 25, 35, 45];

let sum = 0;
sum = sum + numbers[i];
for (let i = 0; i < numbers.length; i++) {
}

let filteredNumbers = [];
if (numbers[i] > 10) {
  filteredNumbers.push(numbers[i]);
}
for (let i = 0; i < numbers.length; i++) {
}

console.log('Сумма:', sum);
console.log('Числа больше 10:', filteredNumbers);
`}
    solution={`const numbers = [5, 15, 25, 35, 45];

let sum = 0;
for (let i = 0; i < numbers.length; i++) {
    sum = sum + numbers[i];
}

let filteredNumbers = [];
for (let i = 0; i < numbers.length; i++) {
    if (numbers[i] > 10) {
        filteredNumbers.push(numbers[i]);
    }
}

console.log('Сумма:', sum);
console.log('Числа больше 10:', filteredNumbers);
`}
/>

---

## Практическое задание

__Задача__:

1. Создай массив `numbers` со значениями `2`, `4`, `6`, `8`.
2. Используя цикл `for`, найди сумму всех чисел в массиве и сохрани её в переменную `sum`.
3. Создай переменную `joinedNumbers` со значением `''`.
3. С помощью цикла `for` добавь все числа из массива `numbers` в переменную `joinedNumbers` через запятую.

Ожидаемый результат:
- `sum` должно быть равно `20`.
- `joinedNumbers` должно быть равно `'2,4,6,8'`.

<CodeEditorWithTests
    checks={[
        { type: 'variable', name: 'sum', expectedValue: 20 },
        { type: 'variable', name: 'joinedNumbers', expectedValue: '2,4,6,8' }
    ]}
    solution={`const numbers = [2, 4, 6, 8];

let sum = 0;
for (let i = 0; i < numbers.length; i++) {
    sum = sum + numbers[i];
}

let joinedNumbers = '';
for (const number of numbers) {
    joinedNumbers = joinedNumbers + ',' + number;
}`}
/>
